<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Actividad 6.22</title>
</head>

<body>

    <div>
        <p>A partir de aquí se van a añadir contenido:</p>
        <ol id="lista">
        </ol>
    </div>

</body>

<script>
    /*
   Crea una cookie que almacene dos datos solicitados al
   usuario: su nombre y su edad. La cookie debe caducar 
   en 30min
    */

    function crearCookie(nombre, valor, min) {
        let date = new Date();
        date.setTime(date.getTime() + (min * 60 * 1000));
        /*        
    La función toUTCString() es un método de los objetos 
    Date en JavaScript que devuelve una representación de 
    cadena de fecha y hora en formato UTC (Tiempo Universal 
    Coordinado).
        */
        let expiracion = 'Experes= ' + date.toUTCString();
        document.cookie = nombre + '=' + valor + '; ' + expiracion + ' en ' + min + ' ;path=/'; // Agrega path para asegurar que la cookie esté disponible en todo el sitio
    }

    function ejercicioCookie(){
        let nombre = '';
        let edad = 0;

        //solitar nombre
        do{
            nombre = prompt('Introduce tu nombre');
            if(nombre !== null && nombre.trim() !== ''){
                crearCookie('nombre', nombre.trim(), 30);
                document.write('El nombre es: ' + nombre);
                break;
            }
        }while(true);

        do{
            let edadString = prompt('Introduce tu edad:');
            if(edadString !== null && !isNaN(edadString) && parseInt(edadString) >= 0){
                edad = parseInt(edadString);
                crearCookie('edad', edad, 30);
                document.write('\nEl nombre es: ' + edad);
                break;
        }
    }while(true);
}

ejercicioCookie();

</script>

</html>